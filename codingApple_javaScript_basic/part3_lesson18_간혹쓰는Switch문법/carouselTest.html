<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="carouselTest.css">
</head>
<body>
  <h1>🎠  Mini Carousel  🎠</h1>
  <div class="window">
    <ul class="container">
      <li class="cell">5</li>
      <li class="cell">1</li>
      <li class="cell">2</l>
      <li class="cell">3</li>
      <li class="cell">4</li>
    </ul>
  </div>
  <div class="button-container">
    <button class="prev">previous</button>
    <button class="next">next</button>
  </div>
<body>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const container = document.querySelector(".container");
    const prevBtn = document.querySelector(".prev");
    const nextBtn = document.querySelector(".next"); 

    // 자동 이동을 위한 setInterval 설정 (2초마다 실행)
    setInterval(function() {
      translateContainer(-1); // 왼쪽으로 이동
    }, 2000); // 2초

    function translateContainer(direction) {
      const selectedBtn = (direction === 1) ? 'prev' : 'next';
      container.style.transitionDuration = '500ms';
      container.style.transform = `translateX(${direction * (100 / 5)}%)`;
      /* container.style.transform = `translateX(${direction * (100 / 요소의 갯수)}%)`; */
      container.ontransitionend = function() {
        reorganizeEl(selectedBtn);
      };
    }

    function reorganizeEl(selectedBtn) {
      container.removeAttribute('style');
      if (selectedBtn === 'prev') {
        container.insertBefore(container.lastElementChild, container.firstElementChild);
      } else {
        container.appendChild(container.firstElementChild);
      }
    }
    
    // 이전 버튼 클릭 이벤트 리스너
    prevBtn.addEventListener('click', function() {
      translateContainer(1);
    });

    // 다음 버튼 클릭 이벤트 리스너
    nextBtn.addEventListener('click', function() {
      translateContainer(-1);
    });
  });
</script>
</html>